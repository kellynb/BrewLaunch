(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){e.exports=n(254)},111:function(e,t,n){},18:function(e,t,n){},254:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),l=n(256),u=(n(111),n(21)),s=n(22),i=n(24),h=n(23),m=n(25),b=n(258),d=n(257),p=n(26),f=n(100),w=n.n(f),B=n(101),v=n.n(B),g=n(102),E=n.n(g),y=n(103),k=n.n(y),C=n(97),N=n.n(C),O=n(98),j=n.n(O),V=n(33),S=n.n(V),T=n(255),I=function(e){return r.a.createElement("div",null,r.a.createElement(j.a,{id:"simple-menu",anchorEl:e.anchorEl,open:Boolean(e.anchorEl),onClose:e.handleClose},r.a.createElement(S.a,{onClick:e.handleClose},r.a.createElement(T.a,{to:"/",className:"links"},"Home")),r.a.createElement(S.a,{onClick:e.handleClose},r.a.createElement(T.a,{to:"/Brew",className:"links"},"Brew Batch")),r.a.createElement(S.a,{onClick:e.handleClose},"Historic Brew")))},x=n(104),F=n.n(x),P=(n(18),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(w.a,{position:"fixed",className:t.appbar},r.a.createElement(v.a,{className:t.toolbar},r.a.createElement("img",{src:N.a,alt:"Thirsy Planet Logo",id:"logo"}),r.a.createElement(E.a,{variant:"h1",color:"inherit",className:t.grow},"Very Good Brewing Company"),r.a.createElement(k.a,{className:t.menuButton,color:"inherit","aria-owns":e?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(F.a,null,"menu"),r.a.createElement(I,{anchorEl:this.state.anchorEl,handleClose:this.handleClose})))))}}]),t}(a.Component)),D=Object(p.withStyles)({root:{flexGrow:1,height:"70px"},appbar:{backgroundColor:"#5c4925;"},grow:{width:"auto",fontFamily:"Fira Sans Condensed",color:"#e6e5d4",fontSize:"25px"},toolbar:{display:"flex",flexDirection:"row",justifyContent:"space-between",textAlign:"center"},menuButton:{padding:0}})(P),L=function(){return r.a.createElement("button",{className:"allButtons"},r.a.createElement(T.a,{to:"/Brew",className:"links"},"Brew Batch"))},A=function(e){return r.a.createElement("section",null,e.state.map(function(e){var t={backgroundColor:"#5d9732"};return e.runOff||(t.backgroundColor="#d1d0bb"),r.a.createElement("div",{className:"cFermenter",key:e.tank,style:t},r.a.createElement("h3",{className:"TankNumber"},e.tank),e.runOff?r.a.createElement("div",{className:"fermenterData"},r.a.createElement("h4",null,"Batch Number: ",e.number),r.a.createElement("h4",null,"Beer Style: ",e.style),r.a.createElement("h4",null,"Volume: ",e.bbls.reduce(function(e,t){return e+t},0)," bbls")):null)}))};var M=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={cTanks:[],briteTanks:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e;e=this,fetch("/Fermenters",{body:JSON.stringify(),headers:{"content-type":"application/json"},method:"GET"}).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({cTanks:t})})}},{key:"render",value:function(){return r.a.createElement(A,{state:this.state.cTanks})}}]),t}(a.Component),R=function(){return r.a.createElement("main",null,r.a.createElement(D,null),r.a.createElement("section",{className:"topTitle"},r.a.createElement(L,null)),r.a.createElement("section",{id:"brewFarm"},r.a.createElement(M,null)))},G=function(){return r.a.createElement(R,null)},J=n(34),$=n(43),U=n(36),W=n(44),z=n.n(W),q=Object(p.withStyles)(function(e){return{formControl:{margin:e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200,backgroundColor:"#d1d0bb"},input:{color:"#5c4925",fontSize:15},cssLabel:{"&$cssFocused":{color:"#5c4925",fontWeight:"bold",fontSize:15}},cssFocused:{},cssUnderline:{"&:after":{borderBottomColor:"#5c4925"}},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#5c4925"}},notchedOutline:{}}})(function(e){var t=e.classes,n=["Brew Number","Brew Letter","Style","Tank"];return[{name:"number",value:e.brewBatch.number,onChange:e.handleBrewNumber,options:function(){if(e.brewBatch.prevNum&&"D"!==e.brewBatch.batch.prevId){var t=e.brewBatch.prevNum;return[t,t+1]}return e.brewBatch.prevNum&&"D"===e.brewBatch.batch.prevId?[e.brewBatch.prevNum+1]:!e.brewBatch.prevNum&&e.brewBatch.number?[e.brewBatch.number]:[1]}()},{name:"id",value:e.brewBatch.batch.id,onChange:e.handleBatch,options:function(){if(e.brewBatch.prevNum===e.brewBatch.number){for(var t=[],n=e.brewBatch.batch.prevId.charCodeAt(0)+1;n<69;n++)t.push(n);return t.map(function(e){return String.fromCharCode(e)})}return e.brewBatch.prevNum===e.brewBatch.number||e.brewBatch.batch.enter?e.brewBatch.batch.enter?[e.brewBatch.batch.id]:[e.brewBatch.number]:["A"]}()},{name:"style",value:e.brewBatch.style,onChange:e.handleBrewNumber,options:function(){var t=["Goat","BucketHead","Dillo","Pailhead","Specialty"],n=[e.brewBatch.style];return e.brewBatch.prevNum===e.brewBatch.number?t=[e.brewBatch.prevStyle]:e.brewBatch.prevNum!==e.brewBatch.number&&""===e.brewBatch.prevNum?n:t}()},{name:"tank",value:e.brewBatch.tank,onChange:e.handleBrewNumber,options:function(){var t=e.brewBatch.tanks,n=[e.brewBatch.tank],a=["C2","C3","C4","C5","C6","C7"];return e.brewBatch.prevNum===e.brewBatch.number?a=[e.brewBatch.prevTank]:e.brewBatch.prevNum!==e.brewBatch.number&&""!==e.brewBatch.prevNum?t:e.brewBatch.prevNum!==e.brewBatch.number&&""===e.brewBatch.prevNum?n:a}()}].map(function(e,a){return r.a.createElement(z.a,{select:!0,value:e.value,onChange:e.onChange,name:e.name,key:a,className:t.textField,variant:"outlined",label:n[a],margin:"normal",InputLabelProps:{classes:{root:t.cssLabel,focused:t.cssFocused}},InputProps:{classes:{root:t.cssOutlinedInput,focused:t.cssFocused,notchedOutline:t.notchedOutline,input:t.input}}},e.options?e.options.map(function(e,t){return r.a.createElement(S.a,{key:t,value:e},e)}):null)})}),H=function(e){return r.a.createElement("section",{className:"userInputs"},r.a.createElement("h2",null,"Brew Information"),r.a.createElement("form",{className:"batchValue"},r.a.createElement(q,e)),r.a.createElement("div",{id:"batchEnter"},e.brewBatch.enter?null:r.a.createElement("button",{onClick:e.handleEnter,className:"allButtons"},"Enter Batch")))},K=Object(p.withStyles)(function(e){return{formControl:{margin:e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,backgroundColor:"#d1d0bb"},input:{color:"#5c4925"},cssLabel:{"&$cssFocused":{color:"#5c4925",fontWeight:"bold",fontSize:15}},cssFocused:{},cssUnderline:{"&:after":{borderBottomColor:"#5c4925"}},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#5c4925"}},notchedOutline:{}}})(function(e){var t=e.classes,n=["Strike Volume","Mash Temp","Sparge Volume","Kettle Brix","Kettle Volume","Whirlpool Volume","Flow Meter Volume","Notes"];return[{type:"number",name:"strikeVolume",value:e.brewBatch.batch.strikeVolume,onChange:e.handleBatch},{type:"number",name:"mashTemp",value:e.brewBatch.batch.mashTemp,onChange:e.handleBatch},{type:"number",name:"spargeVolume",value:e.brewBatch.batch.spargeVolume,onChange:e.handleBatch},{type:"number",name:"startingBrix",value:e.brewBatch.batch.startingBrix,onChange:e.handleBatch},{type:"number",name:"kettleVolume",value:e.brewBatch.batch.kettleVolume,onChange:e.handleBatch},{type:"number",name:"whirlPoolVolume",value:e.brewBatch.batch.whirlPoolVolume,onChange:e.handleBatch},{type:"number",name:"fmVolume",value:e.brewBatch.batch.fmVolume,onChange:e.handleBatch},{type:"text",name:"notes",value:e.brewBatch.batch.notes,onChange:e.handleBatch}].map(function(e,a){return r.a.createElement(z.a,{value:e.value,onChange:e.onChange,type:e.type,name:e.name,key:a,className:t.textField,variant:"outlined",label:n[a],margin:"normal",InputLabelProps:{classes:{root:t.cssLabel,focused:t.cssFocused}},InputProps:{classes:{root:t.cssOutlinedInput,focused:t.cssFocused,notchedOutline:t.notchedOutline,input:t.input}}})})}),Q=function(e){return r.a.createElement("section",{className:"userInputs"},r.a.createElement("h2",null,"Brew Data"),r.a.createElement("form",{className:"batchValue"},r.a.createElement(K,e)))},X=function(e){return r.a.createElement("button",{className:"allButtons",onClick:e.handleTransfer},"Runoff To ",e.brewBatch.tank)},Y=function(e){return r.a.createElement("main",{id:"brewMain"},r.a.createElement(D,null),r.a.createElement("section",{id:"startBatch"},r.a.createElement(H,e),e.brewBatch.batch.enter?r.a.createElement(Q,e):null,e.brewBatch.batch.enter?r.a.createElement(X,e):null))};function Z(e,t){fetch("/Brew/".concat(e),{body:JSON.stringify(t),headers:{"content-type":"application/json"},method:"PUT"}).catch(function(e){console.error("Request failed",e)})}function _(e){fetch("/Brew",{headers:{"content-type":"application/json"},method:"GET"}).then(function(e){return e.json()}).then(function(t){if(void 0!==t[0]){!function(e){var t=e[0].batch[e[0].batch.length-1];for(var n in t)"object"===typeof t[n]&&(t[n]="")}(t);var n=t[0].batch[t[0].batch.length-1];e.setState({number:t[0].number,style:t[0].style,tank:t[0].tank,batch:{id:n.id,strikeVolume:n.strikeVolume,mashTemp:n.mashTemp,spargeVolume:n.spargeVolume,startingBrix:n.startingBrix,kettleVolume:n.kettleVolume,whirlPoolVolume:n.whirlPoolVolume,fmVolume:n.fmVolume,notes:n.notes,enter:n.enter,submit:n.submit}},function(){e.runInterval=setInterval(function(){return e.updateMetricData()},3e4)})}else!function(e){fetch("/Brewsubmit",{headers:{"content-type":"application/json"},method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({prevNum:t.number,prevStyle:t.style,prevTank:t.tank,batch:Object(J.a)({},e.state.batch,{prevId:t.batch[t.batch.length-1].id})}),function(e){fetch("/OpenTanks",{headers:{"content-type":"application/json"},method:"GET"}).then(function(e){return e.json()}).then(function(t){var n=[];t.forEach(function(e){n.push(e.tank)}),e.setState({tanks:n})})}(e)})}(e)})}var ee=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={number:"",prevNum:"",style:"",prevStyle:"",tank:"",prevTank:"",tanks:[],batch:{id:"",prevId:"",strikeVolume:"",mashTemp:"",spargeVolume:"",startingBrix:"",kettleVolume:"",whirlPoolVolume:"",fmVolume:"",notes:"",enter:!1,submit:!1}},n.runInterval=0,n.handleBrewNumber=function(e){var t=e.target.name,a=e.target.value;n.setState(Object($.a)({},t,a))},n.handleBatch=function(e){var t=Object(J.a)({},n.state).batch;t[e.target.name]=e.target.value,n.setState({batch:t})},n.updateMetricData=function(){var e=n.state.number;Z(e,{number:e,batch:n.state.batch})},n.handleEnter=function(e){e.preventDefault(),n.setState({batch:Object(J.a)({},n.state.batch,{enter:!n.state.enter})},function(){var e,t=n.state;n.state.prevNum===n.state.number?(e=t,fetch("/Brew",{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"PUT"}).catch(function(e){console.error("Request failed",e)})):function(e){fetch("/Brew",{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"POST"})}(t),n.runInterval=setInterval(function(){return n.updateMetricData()},3e4)})},n.handleTransfer=function(e){n.setState({batch:Object(J.a)({},n.state.batch,{submit:!n.state.submit})},function(){var e=n.state.number,t=n.state.tank,a=n.state.style,r=n.state.batch.submit,c=n.state.batch,o={number:e,batch:c},l={number:e,tank:t,style:a,batch:c.fmVolume,runOff:r};Z(e,o),function(e,t){fetch("/Tank/".concat(e),{body:JSON.stringify(t),headers:{"content-type":"application/json"},method:"PUT"}).catch(function(e){console.error("Request failed",e)})}(e,l),n.renderRedirect()})},n.componentWillUnmount=function(){clearInterval(n.runInterval)},n.renderRedirect=function(){n.props.history.push("/")},n.componentDidMount=function(){_(Object(U.a)(Object(U.a)(n)))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y,{brewBatch:this.state,handleBrewNumber:this.handleBrewNumber,handleBatch:this.handleBatch,handleEnter:this.handleEnter,handleTransfer:this.handleTransfer}))}}]),t}(a.Component),te=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b.a,null,r.a.createElement(d.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(G,e)}}),r.a.createElement(d.a,{path:"/Brew",render:function(e){return r.a.createElement(ee,e)}})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},97:function(e,t,n){e.exports=n.p+"static/media/beerLogo.000cdd1b.png"}},[[106,1,2]]]);
//# sourceMappingURL=main.462c561e.chunk.js.map