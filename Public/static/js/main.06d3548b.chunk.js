(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,n){e.exports=n.p+"static/media/beerLogo.000cdd1b.png"},12:function(e,t,n){},125:function(e,t,n){e.exports=n(287)},134:function(e,t,n){},287:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),l=n.n(c),s=n(290),o=n(16),u=n(34),i=n(31),m=n(118),h=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,d=Object(u.c)({cTanks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CTANKS":return t.value;default:return e}},emptyCTanks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMPTY_CTANKS":return t.value;default:return e}},selectTank:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TANK":return t.value;case"CHANGE_STATUS":return Object(i.a)({},e,{status:"conditioning"});default:return e}}}),p=Object(u.e)(d,h(Object(u.a)(m.a))),f=(n(134),n(21)),b=n(22),g=n(24),E=n(23),v=n(25),k=n(292),T=n(289),C=n(19),B=n(52),S=n.n(B),x=n(53),y=n.n(x),w=n(40),O=n.n(w),D=n(42),N=n.n(D),j=n(119),I=n.n(j),P=n(51),z=n.n(P),F=n(33),V=n.n(F),M=n(288),R=function(e){return r.a.createElement("div",null,r.a.createElement(z.a,{id:"simple-menu",anchorEl:e.anchorEl,open:Boolean(e.anchorEl),onClose:e.handleClose},r.a.createElement(M.a,{to:"/",className:"links"},r.a.createElement(V.a,{onClick:e.handleClose},"Home")),r.a.createElement(M.a,{to:"/Brew",className:"links"},r.a.createElement(V.a,{onClick:e.handleClose},"Brew")),r.a.createElement(V.a,{onClick:e.handleClose},"Historic Brew")))},L=n(54),A=n.n(L),U=(n(12),function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(S.a,{position:"static",className:t.appbar},r.a.createElement(y.a,{className:t.toolbar},r.a.createElement("img",{src:I.a,alt:"Thirsy Planet Logo",id:"logo"}),r.a.createElement(O.a,{variant:"h1",color:"inherit",className:t.grow},"Very Good Brewing Company"),r.a.createElement(N.a,{className:t.menuButton,color:"inherit","aria-owns":e?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(A.a,null)),r.a.createElement(R,{anchorEl:this.state.anchorEl,handleClose:this.handleClose}))))}}]),t}(a.Component)),q=Object(C.withStyles)({root:{flexGrow:1},appbar:{backgroundColor:"#5c4925"},grow:{fontFamily:"Fira Sans Condensed",color:"#e6e5d4",fontSize:"25px",flexGrow:1},toolbar:{display:"flex",flexDirection:"row",textAlign:"center"},menuButton:{padding:0}})(U),$=function(){return r.a.createElement(M.a,{to:"/Brew",className:"links"},r.a.createElement("button",{className:"allButtons"},"Brew Batch"))};function _(){try{return fetch("/fermenters",{body:JSON.stringify(),headers:{"content-type":"application/json"},method:"GET"})}catch(e){console.log(e)}}var G=n(291),W=n(30),J=n.n(W),K=function(e){var t=function(e){return J()(e).format("MMM Do")};return r.a.createElement("div",{className:"fermenterData"},r.a.createElement("h4",null,"Clean"),r.a.createElement("h4",null,"CIP Date: ",e.fermenter.cip1?t(e.fermenter.cip1):null),r.a.createElement("h4",null,"CIP Date: ",e.fermenter.cip2?t(e.fermenter.cip2):null))},H=function(e){return r.a.createElement("div",{className:"fermenterData"},r.a.createElement("h4",null,"Batch Number: ",e.fermenter.number),r.a.createElement("h4",null,"Beer Style: ",e.fermenter.style),r.a.createElement("h4",null,"Volume: ",e.fermenter.bbls.reduce(function(e,t){return e+t},0)," bbls"),r.a.createElement("h4",null,"Temp: ",e.fermenter.tankTemp[e.fermenter.tankTemp.length-1]?e.fermenter.tankTemp[e.fermenter.tankTemp.length-1].tankTemp:0," F"),r.a.createElement("h4",null,"Final Brix: ",e.fermenter.fermentingBrix[e.fermenter.fermentingBrix.length-1]?e.fermenter.fermentingBrix[e.fermenter.fermentingBrix.length-1].fermentingBrix:null))},Y=function(e){var t=function(e){return J()(e).format("MMM Do")};return r.a.createElement("div",{className:"fermenterData"},r.a.createElement("h4",null,"Dirty"),r.a.createElement("h4",null,"CIP Date: ",e.fermenter.cip1?t(e.fermenter.cip1):"Needs CIP"),r.a.createElement("h4",null,"CIP Date: ",e.fermenter.cip2?t(e.fermenter.cip2):"Needs CIP"))},X=function(e){return r.a.createElement("div",{className:"fermenterData"},r.a.createElement("h4",null,"Empty"))},Q=function(e){return r.a.createElement("div",null,r.a.createElement("h4",null,"Batch Number: ",e.fermenter.number),r.a.createElement("h4",null,"Beer Style: ",e.fermenter.style),r.a.createElement("h4",null,"Volume: ",e.fermenter.bbls.reduce(function(e,t){return e+t},0)," bbls"),r.a.createElement("h4",null,"Temp: ",e.fermenter.tankTemp[e.fermenter.tankTemp.length-1]?e.fermenter.tankTemp[e.fermenter.tankTemp.length-1].tankTemp:0," F"),r.a.createElement("h4",null,"Starting Brix: ",e.fermenter.brix.reduce(function(e,t,n){return e+(t-e)/(n+1)},0)," brix "),r.a.createElement("h4",null,"Fermenting Brix: ",e.fermenter.fermentingBrix[e.fermenter.fermentingBrix.length-1]?e.fermenter.fermentingBrix[e.fermenter.fermentingBrix.length-1].fermentingBrix:null))},Z=function(e){return r.a.createElement("div",{className:"fermenterData"},r.a.createElement("h4",null,"Sanitized"),r.a.createElement("h4",null,"PPM: ",e.fermenter.ppm?e.fermenter.ppm:null))},ee=function(e){return r.a.createElement("section",null,e.tanks.map(function(t,n){return r.a.createElement("div",{className:"cFermenter",key:n,style:{backgroundColor:{fermenting:{backgroundColor:"#5d9732"},conditioning:{backgroundColor:"#3490db"},empty:{backgroundColor:"#d1d0bb"},dirty:{backgroundColor:"#d1d0bb"},clean:{backgroundColor:"#707070"},sanitize:{backgroundColor:"white"}}[t.status].backgroundColor}},r.a.createElement("button",{onClick:function(){e.setTank(t)},className:"TankNumber"},r.a.createElement("h3",{id:"fermenterVal"},t.tank)),r.a.createElement("div",{className:"fermenterData"},"fermenting"===t.status?r.a.createElement(Q,{fermenter:t}):"conditioning"===t.status?r.a.createElement(H,{fermenter:t}):"clean"===t.status?r.a.createElement(K,{fermenter:t}):"dirty"===t.status?r.a.createElement(Y,{fermenter:t}):"sanitize"===t.status?r.a.createElement(Z,{fermenter:t}):r.a.createElement(X,{fermenter:t})))}))},te=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).orderTank=function(){for(var e=0,t=1;t<n.props.tanks.length;e++,t++){if(n.props.tanks[e].tank>n.props.tanks[t].tank){var a=n.props.tanks[e],r=n.props.tanks[t];n.props.tanks[t]=a,n.props.tanks[e]=r,n.orderTank()}}},n}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.getTanks()}},{key:"render",value:function(){return this.orderTank(),r.a.createElement(ee,{tanks:this.props.tanks,setTank:this.props.setTank})}}]),t}(a.Component);var ne=Object(G.a)(Object(o.b)(function(e){return{tanks:e.cTanks}},function(e,t){return{getTanks:function(){return e(function(e){return _().then(function(e){return e.json()}).then(function(t){var n=t.reduce(function(e,t){return t.runOff||e.push(t.tank),e},[]);e({type:"GET_CTANKS",value:t}),e({type:"EMPTY_CTANKS",value:n})})})},setTank:function(n){return e(function(e,t){return function(n){n({type:"SET_TANK",value:e}),t.push("/ProductionTank/".concat(e.tank))}}(n,t.history))}}})(te)),ae=function(){return r.a.createElement("main",null,r.a.createElement(q,null),r.a.createElement("section",{className:"topTitle"},r.a.createElement($,null)),r.a.createElement("section",{id:"brewFarm"},r.a.createElement(ne,null)))},re=function(){return r.a.createElement(ae,null)},ce=n(124),le=n(26),se=function(e){var t={fermenting:"Conditioning"};return r.a.createElement("div",null,r.a.createElement(z.a,{id:"simple-menu",anchorEl:e.anchorEl,open:Boolean(e.anchorEl),onClose:e.handleClose},r.a.createElement("div",{onClick:function(){e.handleStatusChange(t[e.status])},className:"links"},r.a.createElement(V.a,{onClick:e.handleClose},t[e.status]))))},oe=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.handleStatusChange=function(e){var t=e.toLowerCase();n.props.statusUpdate(t)},n}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.componentStatus,t=this.props.status,n=this.props.classes,a=this.state.anchorEl,c=function(e,t){return e||t};return r.a.createElement("div",{className:n.root},r.a.createElement(S.a,{position:"static",className:n[c(e,t)]},r.a.createElement(y.a,null,r.a.createElement(O.a,{variant:"h6",color:"sanitize"===c(e,t)?n.sanitizeText:"inherit",className:n.grow},this.props.tank,": ",function(e){var t=e[0],n=t.toUpperCase();return e.replace(t,n)}(c(e,t))),"fermenting"===c(e,t)?r.a.createElement(N.a,{className:n.menuButton,"aria-owns":a?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(A.a,null)):null,r.a.createElement(se,{anchorEl:this.state.anchorEl,handleClose:this.handleClose,status:c(e,t),handleStatusChange:this.handleStatusChange}))))}}]),t}(a.Component),ue=Object(C.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},fermenting:{backgroundColor:"#5d9732",boxShadow:"none"},conditioning:{backgroundColor:"#3490db",boxShadow:"none"},empty:{backgroundColor:"#5c4925",boxShadow:"none"},dirty:{backgroundColor:"#5c4925",boxShadow:"none"},clean:{backgroundColor:"#707070",boxShadow:"none"},sanitize:{backgroundColor:"white",boxShadow:"none"},sanitizeText:{color:"black"}})(oe),ie=Object(o.b)(function(e){return{tank:e.selectTank.tank,status:e.selectTank.status,number:e.selectTank.number}},null)(ue),me=function(e){return r.a.createElement("button",{className:"allButtons",id:e.id,onClick:e.onClick},e.words)},he=n(28),de=n.n(he),pe=n(57),fe=n.n(pe),be=Object(C.withStyles)(function(e){return{textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,backgroundColor:"#d1d0bb",maxWidth:"175px",minWidth:"100px"},input:{color:"#5c4925",width:"auto"},cssLabel:{"&$cssFocused":{color:"#5c4925",fontWeight:"bold",fontSize:15}},cssFocused:{},cssUnderline:{"&:after":{borderBottomColor:"#5c4925"}},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#5c4925"}},notchedOutline:{}}})(function(e){var t=e.classes;return r.a.createElement(de.a,{value:function(){var t=(new Date).getTime();if(1===e.arrInput.length){var n=e.arrInput[e.arrInput.length-1].date,a=t-Date.parse(n),r=new J.a.duration(a).asDays();return Math.round(100*r)/100}if(0===e.arrInput.length)return 0;for(var c=e.arrInput.length-1;c>-1;c--){var l=e.arrInput[c+1];if(void 0!==l&&l[e.value]!==e.arrInput[c][e.value]){var s=l.date,o=t-Date.parse(s),u=new J.a.duration(o).asDays();return Math.round(100*u)/100}}}(),type:"number",name:"Time",className:t.textField,label:"For",margin:"normal",InputLabelProps:{classes:{root:t.cssLabel,focused:t.cssFocused}},InputProps:{classes:{focused:t.cssLabel},endAdornment:r.a.createElement(fe.a,{position:"end"},"Days"),readOnly:!0}})}),ge=Object(C.withStyles)(function(e){return{textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,backgroundColor:"#d1d0bb",maxWidth:"175px",minWidth:"100px"},input:{color:"#5c4925",width:"auto"},cssLabel:{"&$cssFocused":{color:"#5c4925",fontWeight:"bold",fontSize:15}},cssFocused:{},cssUnderline:{"&:after":{borderBottomColor:"#5c4925"}},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#5c4925"}},notchedOutline:{}}})(function(e){var t=e.classes;return r.a.createElement(de.a,{value:e.valueCalc,onChange:e.onChange,type:"number",name:e.name,id:e.id,onFocus:e.changeSelect,onBlur:e.changeSelect,className:t.textField,variant:"outlined",label:e.label,margin:"normal",InputLabelProps:{classes:{root:t.cssLabel,focused:t.cssFocused}},InputProps:{classes:{root:t.cssOutlinedInput,focused:t.cssFocused,notchedOutline:t.notchedOutline,input:t.input},endAdornment:r.a.createElement(fe.a,{position:"end"},e.measurement)}})}),Ee=function(e){var t,n=e.brix.reduce(function(e,t,n){return e+(t-e)/(n+1)},0),a={reduxFermBrix:e.fBrix,reduxRunBrix:e.brix,runOffBrixAvg:n,userAddedBrix:e.selectBrix,componentFermBrix:e.fermentingBrix};return r.a.createElement("div",{className:"fermentationData"},r.a.createElement("p",null,"Brix"),r.a.createElement("div",{className:"organizeFermentation"},r.a.createElement(ge,{valueCalc:(t=a,t.componentFermBrix?t.componentFermBrix:t.userAddedBrix?t.componentFermBrix:t.reduxFermBrix[t.reduxFermBrix.length-1]?t.reduxFermBrix[t.reduxFermBrix.length-1].fermentingBrix:t.reduxRunBrix.length>0?t.runOffBrixAvg:0),onChange:e.userInput,measurement:"",changeSelect:e.changeBrix,name:"fermentingBrix",id:"selectBrix",label:"Brix"}),r.a.createElement(be,{arrInput:e.fBrix,value:"fermentingBrix"})))},ve=Object(o.b)(function(e){return{brix:e.selectTank.brix,fBrix:e.selectTank.fermentingBrix}})(Ee),ke=n(122),Te=n.n(ke),Ce=n(59),Be=n(123),Se=n.n(Be),xe=Object(C.withStyles)(function(e){return{colorSwitchBase:{color:Ce.green[300],"&$colorChecked":{color:Ce.green[500],"& + $colorBar":{backgroundColor:Ce.green[500]}}},colorBar:{},colorChecked:{},root:{height:56,marginTop:16,marginBottom:8},formControl:{margin:e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement(Te.a,{classes:{root:t.root},control:r.a.createElement(Se.a,{checked:e.checked,onChange:e.onChange,value:e.value,name:e.name,id:e.id,classes:{switchBase:t.colorSwitchBase,checked:t.colorChecked,bar:t.colorBar}}),label:e.label})}),ye=Object(C.withStyles)(function(e){return{textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,backgroundColor:"#d1d0bb",maxWidth:"175"},input:{color:"#5c4925",width:"auto"},cssLabel:{"&$cssFocused":{color:"#5c4925",fontWeight:"bold",fontSize:15}},cssFocused:{},cssUnderline:{"&:after":{borderBottomColor:"#5c4925"}},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#5c4925"}},notchedOutline:{}}})(function(e){var t=e.classes,n=J.a.utc(e.reduxDate).format("YYYY-MM-DD");return r.a.createElement(de.a,{value:e.productionTankDate?e.productionTankDate:e.reduxDate?n:null,onChange:e.onChange,type:"date",name:e.name,className:t.textField,variant:"outlined",label:e.label,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{classes:{root:t.cssOutlinedInput,focused:t.cssFocused,notchedOutline:t.notchedOutline,input:t.input}}})}),we=function(e){var t=e.reduxClean,n=e.clean,a=e.selectClean,c=function(e,t,n){return n?t:e};return r.a.createElement("div",{className:"fermentationData"},r.a.createElement("p",null,"CIP Date"),r.a.createElement("div",{className:"organizeFermentation"},r.a.createElement(ye,{productionTankDate:e.productionTankDateA,reduxDate:e.reduxDate1,name:"cip1",label:"CIP 1",onChange:e.userInput}),r.a.createElement(ye,{productionTankDate:e.productionTankDateB,reduxDate:e.reduxDate2,name:"cip2",label:"CIP 2",onChange:e.userInput})),e.reduxDate1||e.reduxDate2||e.productionTankDateA||e.productionTankDateB?r.a.createElement("div",{className:"organizeFermentation"},r.a.createElement(xe,{checked:c(t,n,a),onChange:e.toggle,value:c(t,n,a),name:"clean",label:"Clean",id:"selectClean"})):null)},Oe=Object(o.b)(function(e){return{reduxDate1:e.selectTank.cip1,reduxDate2:e.selectTank.cip2,reduxClean:e.selectTank.clean}})(we),De={fermenting:"#5d9732",conditioning:"#3490db",empty:"#5c4925",dirty:"#5c4925",clean:"#707070",sanitize:"white"},Ne=function(e){var t,n,a=e.componentStatus,c=e.status;return r.a.createElement("svg",{fill:De[(t=a,n=c,t||n)],id:"fermentationVisuals",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 432 288",xmlSpace:"preserve"},r.a.createElement("circle",{cx:216,cy:"271.3",r:4}),r.a.createElement("polygon",{points:"213.1,257.2 213.1,261.5 172.8,261.5 172.8,205.3 163.9,190.1 163.9,277.3 166.5,277.3 166.5,281.4 161.9,281.4   161.9,284.3 174.5,284.3 174.5,281.4 169.9,281.4 169.9,277.3 172.8,277.3 172.8,267.3 259.5,267.3 259.5,277.3 262.4,277.3   262.4,281.4 257.8,281.4 257.8,284.3 270.1,284.3 270.1,281.4 265.5,281.4 265.5,277.3 268.1,277.3 268.1,190.1 259.5,205.3   259.5,261.5 218.9,261.5 218.9,257.2 "}),r.a.createElement("path",{fill:"none",d:"M174,11.5v9.7c8.9-2.8,20.5-4.6,33.4-5.1v-4.5H174V11.5z"}),r.a.createElement("path",{fill:"none",d:"M224.6,11.5V16c12.9,0.6,24.5,2.4,33.4,5.1v-9.7L224.6,11.5L224.6,11.5z"}),r.a.createElement("path",{d:"M174,11.5h33.4V16c1.9-0.1,3.8-0.1,5.8-0.2v-4.3c0-3.2-2.6-5.8-5.8-5.8H174c-3.2,0-5.8,2.6-5.8,5.8v11.7  c1.8-0.7,3.7-1.4,5.8-2.1V11.5z"}),r.a.createElement("path",{d:"M224.6,11.5H258v9.7c2.1,0.6,4,1.3,5.8,2.1V11.5c0-3.2-2.6-5.8-5.8-5.8h-33.4c-3.2,0-5.8,2.6-5.8,5.8v4.3  c1.9,0,3.9,0.1,5.8,0.2V11.5z"}),r.a.createElement("path",{d:"M159.5,85.2v68.9l54.7,93.9h3.7l54.5-94.1V85.2c0,0-20.4-3-56.5-3S159.5,85.2,159.5,85.2z"}),r.a.createElement("path",{d:"M282.2,40.3v116.3l-58.7,101.1h-15l-58.8-101.1V40.3c0,0,6.3-4.3,6.3-5.2c0-4.6,4.5-8.7,12.1-11.9c1.8-0.7,3.7-1.4,5.8-2.1  c8.9-2.8,20.5-4.6,33.4-5.1c1.9-0.1,3.8-0.1,5.8-0.2c1,0,1.9,0,2.9,0s1.9,0,2.9,0c1.9,0,3.9,0.1,5.8,0.2c12.9,0.6,24.5,2.4,33.4,5.1  c2.1,0.6,4,1.3,5.8,2.1c7.6,3.2,12.1,7.3,12.1,11.9C275.9,36,282.2,40.3,282.2,40.3z M276.5,154.9V43.2c-4.9-3.5-6.3-5.5-6.3-8.1  c0-1.6-2.2-3.7-6.5-5.7c-1.6-0.8-3.4-1.5-5.6-2.2c-7.7-2.6-18.9-4.8-33.4-5.4c-1.9-0.1-3.8-0.1-5.8-0.2c-1,0-1.9,0-2.9,0  s-1.9,0-2.9,0c-2,0-3.9,0.1-5.8,0.2c-14.5,0.6-25.7,2.9-33.4,5.4c-2.1,0.7-4,1.4-5.6,2.2c-4.3,2-6.5,4-6.5,5.5  c0,2.9-1.2,4.6-6.3,8.4v112L212,252h8.4L276.5,154.9z"}))},je=Object(o.b)(function(e){return{status:e.selectTank.status}})(Ne),Ie=function(e){var t,n=e.reduxSanitize,a=e.sanitize,c=e.selectSanitize,l=function(e,t,n){return n?t:e},s={componentPPM:e.ppm,reduxPPM:e.reduxPPM,sanitizeSelect:e.sanitizeSelect};return r.a.createElement("div",{className:"fermentationData"},r.a.createElement("p",null,"Tank Sanitation"),r.a.createElement("div",{className:"organizeFermentation"},r.a.createElement(xe,{checked:l(n,a,c),onChange:e.toggle,value:l(n,a,c),name:"sanitize",label:"Sanitize",id:"selectSanitize"}),a||n&&!c?r.a.createElement(ge,{valueCalc:(t=s,t.componentPPM?t.componentPPM:t.sanitizeSelect?t.componentPPM:t.reduxPPM?t.reduxPPM:null),onChange:e.userInput,measurement:"ppm",changeSelect:e.changeSanitize,name:"ppm",id:"sanitizeSelect",label:"Peracetic Acid"}):null))},Pe=Object(o.b)(function(e){return{reduxSanitize:e.selectTank.sanitize,reduxPPM:e.selectTank.ppm}})(Ie),ze=function(e){var t=e.reduxSpund,n=e.spund,a=e.selectSpund,c=function(e,t,n){return n?t:e},l=e.spundPressure,s=e.reduxPressure,o=e.selectPSI;return r.a.createElement("div",{className:"fermentationData"},r.a.createElement("p",null,"Fermentation Pressure"),r.a.createElement("div",{className:"organizeFermentation"},r.a.createElement(xe,{checked:c(t,n,a),onChange:e.toggle,value:c(t,n,a),label:"Spund",name:"spund",id:"selectSpund"}),n||t&&!a?r.a.createElement(ge,{valueCalc:function(e,t,n){return e||(n?e:t||null)}(l,s,o),onChange:e.userInput,measurement:"PSI",changeSelect:e.changeSelect,name:"spundPressure",label:"Pressure",id:"selectPSI"}):null))},Fe=Object(o.b)(function(e){return{reduxSpund:e.selectTank.spund,reduxPressure:e.selectTank.spundPressure}})(ze),Ve=function(e){var t,n={componentTemp:e.tankTemp,userAddTemp:e.select,reduxTemp:e.temp};return r.a.createElement("div",{className:"fermentationData"},r.a.createElement("p",null,"Temperature"),r.a.createElement("div",{className:"organizeFermentation"},r.a.createElement(ge,{valueCalc:(t=n,t.componentTemp?t.componentTemp:t.userAddTemp?t.componentTemp:t.reduxTemp[t.reduxTemp.length-1]?t.reduxTemp[t.reduxTemp.length-1].tankTemp:null),onChange:e.userInput,measurement:"F",changeSelect:e.changeSelect,name:"tankTemp",id:"select",label:"Temp"}),r.a.createElement(be,{arrInput:e.temp,value:"tankTemp"})))},Me=Object(o.b)(function(e){return{temp:e.selectTank.tankTemp}})(Ve),Re=function(e){return r.a.createElement("div",{className:"fermentationData"},r.a.createElement("p",null,"Yeast Removal"),r.a.createElement("div",{className:"organizeFermentation"},r.a.createElement(ye,{onChange:e.userInput,label:"Dump 1",name:"yeastDump1",productionTankDate:e.yeastDump1,reduxDate:e.yeastDump1Redux}),r.a.createElement(ye,{onChange:e.userInput,label:"Dump 2",name:"yeastDump2",productionTankDate:e.yeastDump2,reduxDate:e.yeastDump2Redux})))},Le=Object(o.b)(function(e){return{yeastDump1Redux:e.selectTank.yeastDump1,yeastDump2Redux:e.selectTank.yeastDump2}})(Re);var Ae=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={status:"",tankTemp:"",fermentingBrix:"",spund:!1,spundPressure:"",yeastDump1:"",yeastDump2:"",cip1:"",cip2:"",clean:!1,select:!1,selectBrix:!1,selectClean:0,selectSanitize:0,selectSpund:0,selectPSI:!1,sanitize:!1,sanitizeSelect:!1,ppm:""},n.userInput=function(e){var t=e.target.name;n.setState(Object(le.a)({},t,e.target.value))},n.switchToggle=function(e){var t=e.target.name;"spund"===t&&n.props.reduxSpund&&!n.state.spund&&0===n.state.selectSpund?(n.setState({spund:!1}),n.changeToggleSelect(e)):"clean"===t&&n.props.reduxClean&&!n.state.clean&&0===n.state.selectClean?(n.setState({clean:!1},function(){n.setState({status:"dirty"})}),n.changeToggleSelect(e)):"sanitize"===t&&n.props.reduxSanitize&&!n.state.sanitize&&0===n.state.selectSanitize?(n.setState({sanitize:!1},function(){n.setState({status:"clean"})}),n.changeToggleSelect(e)):(n.setState(Object(le.a)({},t,!n.state[t]),function(){n.changeStatus()}),n.changeToggleSelect(e))},n.changeStatus=function(){n.state.sanitize?n.setState({status:"sanitize"}):n.state.clean||n.props.reduxClean&&!n.state.selectClean?n.setState({status:"clean"}):n.props.reduxRunOff||n.setState({status:"dirty"})},n.statusUpdate=function(e){n.setState({status:e})},n.changeSelect=function(e){var t=e.target.id;n.setState(Object(le.a)({},t,!n.state[t]))},n.changeToggleSelect=function(e){var t=e.target.id;n.setState(Object(le.a)({},t,n.state[t]+1))},n.renderRedirect=function(){n.props.history.push("/")},n.handleTransfer=function(){var e,t,a,r=n.props.match.params,c={tank:r.tank,runOff:!1,status:"dirty"};(e=r.tank,t=n.props.number,a=c,fetch("/fermenters/".concat(e,"/transfer/").concat(t),{body:JSON.stringify(a),headers:{"content-type":"application/json"},method:"PUT"})).then(function(){n.renderRedirect()}).catch(function(e){console.error("Request failed",e)})},n.sendUpdate=function(){for(var e,t,a,r={},c=Object.entries(n.state),l=0;l<c.length;l++){var s,o=c[l],u=Object(ce.a)(o,2),i=u[0],m=u[1];if(!m||"tankTemp"!==i&&"fermentingBrix"!==i)!m&&("clean"===i&&n.state.selectClean||"spund"===i&&n.state.selectSpund||"sanitize"===i&&n.state.selectSanitize)?r[i]=n.state[i]:m&&"selectSpund"!==i&&"selectClean"!==i&&"selectSanitize"!==i&&(r[i]=m);else r[i]=(s={},Object(le.a)(s,i,m),Object(le.a)(s,"date",new Date),s)}console.log(r),(e=r,t=n.props.tank,a=n.props.number,fetch("/fermenters/".concat(t,"/brew/").concat(a),{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"PUT"})).then(function(){n.renderRedirect()}).catch(function(e){console.error("Request failed",e)})},n.componentDidMount=function(){var e=n.props.match.params;n.props.setTank(e.tank).catch(function(e){console.error("Request failed",e)})},n}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("main",null,this.props.tank?r.a.createElement("div",null,r.a.createElement(q,null),r.a.createElement("div",{id:"fermentationBox"},r.a.createElement(je,{componentStatus:this.state.status}),r.a.createElement("section",{id:"fermentationFormBox"},r.a.createElement("div",{id:"fermentationForm"},r.a.createElement(ie,{statusUpdate:this.statusUpdate,componentStatus:this.state.status}),"fermenting"===this.props.status||"conditioning"===this.props.status?r.a.createElement("div",null,r.a.createElement(Me,{userInput:this.userInput,tankTemp:this.state.tankTemp,changeSelect:this.changeSelect,select:this.state.select}),function(e,t){if(""!==t){if("fermenting"===t)return t}else if("fermenting"===e)return e}(this.props.status,this.state.status)?r.a.createElement(ve,{userInput:this.userInput,fermentingBrix:this.state.fermentingBrix,changeBrix:this.changeSelect,selectBrix:this.state.selectBrix}):r.a.createElement(Le,{userInput:this.userInput,yeastDump2:this.state.yeastDump2,yeastDump1:this.state.yeastDump1}),r.a.createElement(Fe,{toggle:this.switchToggle,spund:this.state.spund,spundPressure:this.state.spundPressure,userInput:this.userInput,selectSpund:this.state.selectSpund,changeSelect:this.changeSelect,selectPSI:this.state.selectPSI}),r.a.createElement("div",{className:"fermentationData",id:"fermentationSave"},r.a.createElement(me,{words:"Save Updates",id:"saveButton",onClick:this.sendUpdate}),this.state.yeastDump2||this.props.yeast2?r.a.createElement(me,{words:"Tranfer to Brite",id:"transferButton",onClick:this.handleTransfer}):null)):r.a.createElement("div",null,"dirty"===this.props.status||"clean"===this.props.status||"sanitize"===this.props.status?r.a.createElement("div",null,r.a.createElement(Oe,{userInput:this.userInput,productionTankDateB:this.state.cip2,productionTankDateA:this.state.cip1,clean:this.state.clean,toggle:this.switchToggle,selectClean:this.state.selectClean}),this.state.clean||this.props.reduxClean&&!this.state.selectClean?r.a.createElement(Pe,{sanitize:this.state.sanitize,sanitizeDate:this.state.sanitizeDate,toggle:this.switchToggle,userInput:this.userInput,changeSanitize:this.changeSelect,selectSanitize:this.state.selectSanitize,sanitizeSelect:this.state.sanitizeSelect,ppm:this.state.ppm}):null,r.a.createElement("div",{className:"fermentationData",id:"fermentationSave"},r.a.createElement(me,{words:"Save Updates",id:"saveButton",onClick:this.sendUpdate}))):null))))):r.a.createElement(q,null))}}]),t}(a.Component);function Ue(e){return function(t){return function(e){return fetch("/fermenters/".concat(e),{headers:{"content-type":"application/json"},method:"GET"})}(e).then(function(e){return e.json()}).then(function(e){t({type:"SET_TANK",value:e[0]})})}}var qe=Object(o.b)(function(e){return{status:e.selectTank.status,temp:e.selectTank.tankTemp,number:e.selectTank.number,tank:e.selectTank.tank,close:e.selectTank.spund,pressure:e.selectTank.spundPressure,yeast2:e.selectTank.yeastDump2,reduxClean:e.selectTank.clean,reduxRunOff:e.selectTank.runOff,reduxSanitize:e.selectTank.sanitize,reduxSpund:e.selectTank.spund}},function(e){return{setTank:function(t){return e(Ue(t))}}})(Ae),$e=Object(C.withStyles)(function(e){return{formControl:{margin:e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200,backgroundColor:"#d1d0bb"},input:{color:"#5c4925",fontSize:15},cssLabel:{"&$cssFocused":{color:"#5c4925",fontWeight:"bold",fontSize:15}},cssFocused:{},cssUnderline:{"&:after":{borderBottomColor:"#5c4925"}},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#5c4925"}},notchedOutline:{}}})(function(e){var t=e.classes,n=e.brewBatch.prevNum,a=e.brewBatch.number,c=e.brewBatch.batch.enter,l=["Brew Number","Brew Letter","Style","Tank"];return[{name:"number",value:a,onChange:e.handleBrewNumber,options:n&&"D"!==e.brewBatch.batch.prevId?[n,n+1]:n&&"D"===e.brewBatch.batch.prevId?[n+1]:!n&&a?[a]:[1]},{name:"id",value:e.brewBatch.batch.id,onChange:e.handleBatch,options:function(){if(n===a){for(var t=[],r=e.brewBatch.batch.prevId.charCodeAt(0)+1;r<69;r++)t.push(r);return t.map(function(e){return String.fromCharCode(e)})}return n===a||c?c?[e.brewBatch.batch.id]:[a]:["A"]}()},{name:"style",value:e.brewBatch.style,onChange:e.handleBrewNumber,options:function(){var t=["Goat","BucketHead","Dillo","Pailhead","Specialty"],r=[e.brewBatch.style];return n===a?t=[e.brewBatch.prevStyle]:n!==a&&""===n?r:t}()},{name:"tank",value:e.brewBatch.tank,onChange:e.handleBrewNumber,options:function(){var t=e.brewBatch.openTanks,r=[e.brewBatch.tank],c=["C2","C3","C4","C5","C6","C7"];return n===a?c=[e.brewBatch.prevTank]:n!==a&&""!==n&&""!==e.brewBatch.tank?t:n!==a&&""!==n?t:n!==a&&""===n?r:c}()}].map(function(e,n){return r.a.createElement(de.a,{select:!0,value:e.value,onChange:e.onChange,name:e.name,key:n,className:t.textField,variant:"outlined",label:l[n],margin:"normal",InputLabelProps:{classes:{root:t.cssLabel,focused:t.cssFocused}},InputProps:{classes:{root:t.cssOutlinedInput,focused:t.cssFocused,notchedOutline:t.notchedOutline,input:t.input},readOnly:c}},e.options?e.options.map(function(e,t){return r.a.createElement(V.a,{key:t,value:e},e)}):null)})}),_e=function(e){return r.a.createElement("section",{className:"userInputs"},r.a.createElement("h2",null,"Brew Information"),r.a.createElement("form",{className:"batchValue"},r.a.createElement($e,e)),r.a.createElement("div",{id:"batchEnter"},e.brewBatch.batch.enter?r.a.createElement("button",{onClick:e.handleDelete,className:"allButtons"},"Delete Batch"):r.a.createElement("button",{onClick:e.handleEnter,className:"allButtons"},"Enter Batch")))},Ge=Object(C.withStyles)(function(e){return{formControl:{margin:e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,backgroundColor:"#d1d0bb"},input:{color:"#5c4925"},cssLabel:{"&$cssFocused":{color:"#5c4925",fontWeight:"bold",fontSize:15}},cssFocused:{},cssUnderline:{"&:after":{borderBottomColor:"#5c4925"}},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#5c4925"}},notchedOutline:{}}})(function(e){var t=e.classes,n=["Strike Volume","Mash Temp","Sparge Volume","Kettle Brix","Kettle Volume","Whirlpool Volume","Flow Meter Volume","Run Off Temperature","Fermenter Temperature","Notes"];return[{type:"number",name:"strikeVolume",value:e.brewBatch.batch.strikeVolume,onChange:e.handleBatch},{type:"number",name:"mashTemp",value:e.brewBatch.batch.mashTemp,onChange:e.handleBatch},{type:"number",name:"spargeVolume",value:e.brewBatch.batch.spargeVolume,onChange:e.handleBatch},{type:"number",name:"startingBrix",value:e.brewBatch.batch.startingBrix,onChange:e.handleBatch},{type:"number",name:"kettleVolume",value:e.brewBatch.batch.kettleVolume,onChange:e.handleBatch},{type:"number",name:"whirlPoolVolume",value:e.brewBatch.batch.whirlPoolVolume,onChange:e.handleBatch},{type:"number",name:"fmVolume",value:e.brewBatch.batch.fmVolume,onChange:e.handleBatch,required:!0},{type:"number",name:"runOffTemp",value:e.brewBatch.batch.runOffTemp,onChange:e.handleBatch,required:!0},{type:"number",name:"tankTemp",value:e.brewBatch.batch.tankTemp,onChange:e.handleBatch,required:!0},{type:"text",name:"notes",value:e.brewBatch.batch.notes,onChange:e.handleBatch}].map(function(e,a){return r.a.createElement(de.a,{value:e.value,onChange:e.onChange,type:e.type,name:e.name,key:a,className:t.textField,variant:"outlined",label:n[a],margin:"normal",required:e.required,InputLabelProps:{classes:{root:t.cssLabel,focused:t.cssFocused}},InputProps:{classes:{root:t.cssOutlinedInput,focused:t.cssFocused,notchedOutline:t.notchedOutline,input:t.input}}})})}),We=function(e){return r.a.createElement("section",{className:"userInputs"},r.a.createElement("h2",null,"Brew Data"),r.a.createElement("form",{className:"batchValue"},r.a.createElement(Ge,e)))},Je=function(e){return r.a.createElement("button",{className:"allButtons",onClick:e.handleTransfer},"Runoff To ",e.brewBatch.tank)},Ke=function(e){return r.a.createElement("main",{id:"brewMain"},r.a.createElement(q,null),r.a.createElement("section",{id:"startBatch"},r.a.createElement(_e,e),e.brewBatch.batch.enter?r.a.createElement("section",null,r.a.createElement(We,e),r.a.createElement(Je,e)):null))};function He(e){return fetch("/brews/".concat(e.number,"/batches/").concat(e.batch.id),{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"PATCH"})}function Ye(){return fetch("/brews/lastsubmittal",{headers:{"content-type":"application/json"},method:"GET"}).then(function(e){return e.json()})}var Xe=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={number:"",prevNum:"",style:"",prevStyle:"",tank:"",prevTank:"",status:"",opentTanks:"",batch:{id:"",prevId:"",strikeVolume:"",mashTemp:"",spargeVolume:"",startingBrix:"",kettleVolume:"",whirlPoolVolume:"",fmVolume:"",tankTemp:"",runOffTemp:"",notes:"",enter:!1,submit:!1}},n.runInterval=0,n.handleBrewNumber=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(le.a)({},t,a))},n.handleBatch=function(e){var t=Object(i.a)({},n.state).batch;t[e.target.name]=e.target.value,n.setState({batch:t})},n.updateMetricData=function(){He({number:n.state.number,batch:n.state.batch}).catch(function(e){console.error("Request failed",e)})},n.handleEnter=function(e){e.preventDefault(),n.setState({batch:Object(i.a)({},n.state.batch,{enter:!n.state.enter})},function(){var e,t=n.state;n.state.prevNum===n.state.number?(e=t,fetch("/brews/".concat(e.number,"/batches/").concat(e.batch.id),{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"PUT"}).catch(function(e){console.error("Request failed",e)})):function(e){fetch("/brews/".concat(e.number,"/batches/").concat(e.batch.id),{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"POST"}).catch(function(e){console.error("Request failed",e)})}(t),n.runInterval=setInterval(function(){return n.updateMetricData()},3e4)})},n.handleDelete=function(){var e=n.state.number,t=n.state.batch.id;"A"===t?(clearInterval(n.runInterval),function(e){fetch("/brews/".concat(e),{headers:{"content-type":"application/json"},method:"DELETE"}).catch(function(e){console.error("Request failed",e)})}(e),n.setState({batch:Object(i.a)({},n.state.batch,{strikeVolume:"",mashTemp:"",spargeVolume:"",startingBrix:"",kettleVolume:"",whirlPoolVolume:"",fmVolume:"",tankTemp:"",runOffTemp:"",notes:"",enter:!n.state.batch.enter})})):(clearInterval(n.runInterval),function(e,t){fetch("/brews/".concat(e,"/batches/").concat(t),{headers:{"content-type":"application/json"},method:"DELETE"}).catch(function(e){console.error("Request failed",e)})}(e,t),n.setState({number:"",style:"",tank:"",batch:Object(i.a)({},n.state.batch,{strikeVolume:"",mashTemp:"",spargeVolume:"",startingBrix:"",kettleVolume:"",whirlPoolVolume:"",fmVolume:"",tankTemp:"",runOffTemp:"",notes:"",id:"",enter:!n.state.batch.enter})}))},n.handleTransfer=function(){n.setState({status:"fermenting",batch:Object(i.a)({},n.state.batch,{submit:!n.state.submit})},function(){var e=n.state.number,t=n.state.tank,a=n.state.style,r=n.state.batch.submit,c=n.state.batch,l={number:e,batch:c},s={number:e,tank:t,style:a,batch:c.fmVolume,brix:n.state.batch.startingBrix,runOff:r,tankTemp:n.state.batch.tankTemp,status:n.state.status};He(l).then(function(){(function(e,t,n){return fetch("/fermenters/".concat(t.tank,"/brew/").concat(e,"/batch/").concat(n),{body:JSON.stringify(t),headers:{"content-type":"application/json"},method:"PUT"})})(e,s,c.id).then(function(){n.renderRedirect()})}).catch(function(e){console.error("Request failed",e)})})},n.componentWillUnmount=function(){clearInterval(n.runInterval)},n.renderRedirect=function(){n.props.history.push("/")},n.changeNull=function(e){var t=e.batch[e.batch.length-1];for(var n in t){"object"===typeof t[n]&&(t[n]="")}return e},n.updateStateBatchBrewing=function(e){var t=e.batch[e.batch.length-1];n.setState({number:e.number,style:e.style,tank:e.tank,status:e.status,batch:{id:t.id,strikeVolume:t.strikeVolume,mashTemp:t.mashTemp,spargeVolume:t.spargeVolume,startingBrix:t.startingBrix,kettleVolume:t.kettleVolume,whirlPoolVolume:t.whirlPoolVolume,fmVolume:t.fmVolume,tankTemp:t.tankTemp,runOffTemp:t.runOffTemp,notes:t.notes,enter:t.enter,submit:t.submit}})},n.updateStateLastCompletedBrew=function(e){for(var t=e.batch,a=t.length-1;a>=0;a--)if(!0===t[a].submit)return n.setState({prevNum:e.number,prevStyle:e.style,prevTank:e.tank,batch:Object(i.a)({},n.state.batch,{prevId:t[a].id})})},n.inputBatchSequence=function(){fetch("/brews",{headers:{"content-type":"application/json"},method:"GET"}).then(function(e){return e.json()}).then(function(e){var t=e[0];void 0!==t?(n.changeNull(t),n.updateStateBatchBrewing(t),Ye().then(function(e){n.updateStateLastCompletedBrew(e)}).then(function(){n.runInterval=setInterval(function(){return n.updateMetricData()},3e4)}).catch(function(e){console.error("Request failed",e)})):Ye().then(function(e){n.updateStateLastCompletedBrew(e)}).catch(function(e){console.error("Request failed",e)})}).catch(function(e){console.error("Request failed",e)}),_().then(function(e){return e.json()}).then(function(e){var t=e.reduce(function(e,t){return t.runOff||e.push(t.tank),e},[]);n.setState({openTanks:t})}).catch(function(e){console.error("Request failed",e)})},n.componentDidMount=function(){n.inputBatchSequence()},n}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ke,{brewBatch:this.state,handleBrewNumber:this.handleBrewNumber,handleBatch:this.handleBatch,handleEnter:this.handleEnter,handleTransfer:this.handleTransfer,handleDelete:this.handleDelete}))}}]),t}(a.Component),Qe=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(k.a,null,r.a.createElement(T.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(re,e)}}),r.a.createElement(T.a,{path:"/Brew",render:function(e){return r.a.createElement(Xe,e)}}),r.a.createElement(T.a,{path:"/ProductionTank/:tank",render:function(e){return r.a.createElement(qe,e)}})))}}]),t}(a.Component);l.a.render(r.a.createElement(o.a,{store:p},r.a.createElement(s.a,null,r.a.createElement(Qe,null))),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.06d3548b.chunk.js.map